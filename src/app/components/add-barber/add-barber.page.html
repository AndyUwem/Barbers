<ion-header>
  <ion-toolbar>
    <app-back-button slot="start" [url]="backButtonUrl"></app-back-button>
    <ion-title>Link a barber</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
<ion-card>
  <ion-card-header>
     <h4> Enter Ref. Code</h4>
  </ion-card-header>
  <ion-card-content>
    <ion-list>
      <ion-item>
        <form [formGroup]="refCodeForm">
          <ion-label position="floating">
            <ion-text>
             <p>Type here..</p>
            </ion-text>
          </ion-label>
          <ion-input class="refInput ion-text-center" type="text" formControlName="referenceCode"></ion-input>
        </form>
      </ion-item>

      <ion-button
      class="ion-margin-top"
      color="success"
      size="normal"
      (click)="searchBarber()">
        Search
      </ion-button>

    </ion-list>
  </ion-card-content>
</ion-card>

<div *ngIf="!isBarberValid; else dataFound">
  <p>{{searchTitle}}</p>
</div>
</ion-content>


<ng-template #dataFound>
  <ion-card>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="6">
            <ion-button
            fill="clear"
            color="success">
             <ion-icon name="close-circle-outline" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-col>

          <ion-col size="6" class="ion-padding-start">
            <ion-button
            (click)="linkWithBarber()"
            color="success">
              Link <ion-icon name="checkmark-outline" slot="end"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>

        <ion-row>
        <ion-col size="12">
          <div class="ion-text-center ion-padding">
            <ion-avatar class="avatar">
              <img [src]="filteredBarber.companyImage" alt="company profile image">
            </ion-avatar>
            <ion-label>
              <h3>{{filteredBarber.firstName}}, {{filteredBarber.lastName}}</h3>
              <p>{{filteredBarber.gender}}, {{filteredBarber.age}}</p>
            </ion-label>
          </div>
        </ion-col>
        </ion-row>

        <ion-row class="">
          <ion-col class="ion-text-center">
            <ion-label>
              <h3>2,890</h3>
              <p>Customers</p>
            </ion-label>
          </ion-col>
          <ion-col class="ion-text-center">
            <ion-label>
              <h3>500</h3>
              <p>Likes</p>
            </ion-label>
          </ion-col>
        </ion-row>
        <!-- -N2ESDSME7HTvk-kayqF -->
        <ion-row>
          <ion-col size="12">
            <ion-list>
              <ion-item>
                <ion-icon slot="start" color="success" name="person-outline"></ion-icon>
               <ion-label>
                <h3>Company Name</h3>
                <p>{{ filteredBarber.companyName}}</p>
               </ion-label>
              </ion-item>

              <ion-item>
                <ion-icon slot="start" name="call-outline" color="success" slot="start"></ion-icon>
                <ion-label>
                 <h3>Phone</h3>
                 <p>{{filteredBarber.phone}}</p>
                </ion-label>
               </ion-item>

               <ion-item>
                <ion-icon slot="start" name="at-outline" color="success"></ion-icon>
                <ion-label>
                 <h3>Shop Address</h3>
                 <p>{{filteredBarber.address}}</p>
                </ion-label>
               </ion-item>

               <ion-item>
                <ion-icon slot="start" color="success" name="mail-outline"></ion-icon>
                <ion-label>
                 <h3>email</h3>
                 <p>{{filteredBarber.email}}</p>
                </ion-label>
               </ion-item>

            </ion-list>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
</ng-template>
